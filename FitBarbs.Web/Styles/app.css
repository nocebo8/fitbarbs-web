@tailwind base;
@tailwind components;
@tailwind utilities;

/* Screen-reader-only utility (Tailwind has sr-only but keep explicit to ensure inclusion) */
.sr-only { position:absolute; width:1px; height:1px; padding:0; margin:-1px; overflow:hidden; clip:rect(0,0,0,0); white-space:nowrap; border:0; }
.not-sr-only { position:static; width:auto; height:auto; padding:0; margin:0; overflow:visible; clip:auto; white-space:normal; }

/* CSS Variables as tokens */
:root {
  --fb-bg: #FFFFFF;
  --fb-surface: #FAFAFA;
  --fb-text: #0A0A0A;
  --fb-muted: #52525B;
  --fb-primary: #EC4899;
  --fb-primary-soft: #FCE7F3;
  --fb-secondary: #2EC4B6;
  --fb-border: #E5E7EB;
  --fb-warning: #F59E0B;
  --fb-error: #EF4444;
  --fb-success: #10B981;
}

@layer base {
  html { @apply antialiased; }
  body { @apply bg-bg text-[var(--fb-text)] text-base leading-relaxed; background-color: var(--fb-bg); }
}

@layer components {
  .btn { @apply inline-flex items-center justify-center gap-2 rounded-xl px-4 py-2 font-medium transition-colors focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-brand; }
  .btn-primary { @apply btn bg-brand text-white hover:brightness-110 active:brightness-95 shadow-soft; }
  /* Secondary button: higher contrast on light background for WCAG AA */
  .btn-secondary { @apply btn bg-white text-[color:var(--fb-text)] border border-[var(--fb-border)] hover:bg-surface; }
  .btn-ghost { @apply btn bg-transparent text-brand hover:bg-brand-soft; }

  .card { @apply rounded-2xl bg-surface shadow-soft border border-[var(--fb-border)]; }
  .badge { @apply inline-flex items-center rounded-full px-2 py-0.5 text-xs font-medium bg-brand-soft text-brand; }

  .nav-blur { @apply backdrop-blur supports-[backdrop-filter]:bg-white/70 bg-white/90; }

  /* Tooltip */
  .tooltip { @apply relative inline-block cursor-help; }
  .tooltip .tooltip-content { @apply pointer-events-none absolute left-1/2 -translate-x-1/2 mt-2 whitespace-nowrap rounded-md px-2 py-1 text-xs text-white opacity-0 transition-opacity; background-color: rgba(17, 24, 39, 0.9); }
  .tooltip:hover .tooltip-content, .tooltip:focus .tooltip-content { @apply opacity-100; }

  /* Skeleton */
  .skeleton { @apply relative overflow-hidden bg-[color:var(--fb-border)]; }
  .skeleton::after { content: ""; @apply absolute inset-0 -translate-x-full bg-gradient-to-r from-transparent via-white/60 to-transparent; animation: shimmer 1.4s infinite; }
}

@keyframes shimmer { 100% { transform: translateX(100%); } }

@media (prefers-reduced-motion: reduce) {
  .skeleton::after { animation: none; }
}

/* High-contrast preference */
@media (prefers-contrast: more) {
  .btn-primary { filter: contrast(1.1) saturate(1.05); }
}


